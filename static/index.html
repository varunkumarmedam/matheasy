<html>

<head>
    <title>
        Senthil aaa majaka :D
    </title>
    <!--firstly try to load jquery as browser-->
    <script src="./static/mydata.js"></script>
    <script src="./static/jquery.js"></script>
    <link rel="stylesheet" type="text/css" href="./static/style.css" />
    <link rel="stylesheet" type="text/css" href="./static/css/bootstrap.min.css" />
    <!--if first not work. load using require()-->
    <script>

    </script>
    <script>
        if (typeof jQuery == "undefined") {
            window.$ = window.jQuery = require('jquery');
        }
    </script>
    <script>
        //Callback for Next Slide for all Lessons
        function next() {
            scrollId++;
            console.log("Page - " + scrollId + " in Lesson " + lesson);
            $("#main_image").attr('src', './static/images/' + lesson + '/' + scrollId + '.jpg');
            checkDisability(scrollId);
        };

        //Callback for Previous Slide for all Lessons
        function prev() {
            scrollId--;
            console.log("Page - " + scrollId + " in Lesson " + lesson);
            $("#main_image").attr('src', './static/images/' + lesson + '/' + scrollId + '.jpg');
            checkDisability(scrollId);
        };

        //Making Buttons to be Disabled 
        function checkDisability(btnId) {
            (btnId <= 1) ? $("#prev").attr("disabled", "true") : $("#prev").removeAttr("disabled", "false");
            (btnId >= limits[lesson - 1]) ? $("#next").attr("disabled", "true") : $("#next").removeAttr("disabled",
                "false");
        }
    </script>
    <style>
        .accordion {
            background-color: #eee;
            color: #444;
            cursor: pointer;
            padding: 18px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-size: 15px;
            transition: 0.4s;
        }

        .active,
        .accordion:hover {
            background-color: #ccc;
        }

        .panel {
            padding: 0 18px;
            display: none;
            background-color: white;
            overflow: hidden;
        }
    </style>
</head>


<body>

    <div class="row" style="height: 95%;">
        <div class="col-3">
            <h2>Lessons</h2>

            <button class="accordion">Lesson 1</button>
            <div class="panel">
                <p>Problem 1</p>
                <p>Problem 2</p>
            </div>

            <button class="accordion">Lesson 2</button>
            <div class="panel">
                <p>Problem 1</p>
                <p>Problem 2</p>
            </div>

            <button class="accordion">Lesson 3</button>
            <div class="panel">
                <p>Problem 1</p>
                <p>Problem 2</p>
            </div>
        </div>


        <!-- Main Frame Starts here -->
        <div class="col-9">
            <center>
                <h2>Math Easy</h2>
                <h3>Ver 1.0.0</h3>
            </center>
            <img id="main_image" width="100%" height="80%" alt="Slide not available">
            <center>
                <button id="prev" onclick="prev()">Previous</button>
                <button> Mute </button>
                <button id="next" onclick="next()">Next</button>
                <!-- <button id="prevLesson">Prev Lesson</button>
            <button id="nextLesson">Next Lesson</button> -->
            </center>

        </div>
    </div>

</body>

<script>
    var limits = [3, 5];
    var scrollId = 1;
    var lesson = 1;
    $(function () {
        var acc = document.getElementsByClassName("accordion");
        var i;

        for (i = 0; i < acc.length; i++) {
            acc[i].addEventListener("click", function () {
                this.classList.toggle("active");
                var panel = this.nextElementSibling;
                if (panel.style.display === "block") {
                    panel.style.display = "none";
                } else {
                    panel.style.display = "block";
                }
            });
        }


        $data = JSON.parse(data);
        console.log($data["name"]);
        //Called when the App Loads at first time
        checkDisability(scrollId);

        //Loading Image for First Time
        $("#main_image").attr('src', './static/images/' + lesson + '/' + scrollId + '.jpg');

        //Migrating to Previous Lesson
        $("#prevLesson").on('click', () => {
            lesson--;
            next();
        })

        //Migrating to Next Lesson
        $("#nextLesson").on('click', () => {
            lesson++;
            next();
        })

    })
</script>

</html>